<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráfico de Rehabilitación de Vía PC-RE (Sombreado)</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #plot {
            width: 90%;
            margin: auto;
            height: 800px;
        }
    </style>
</head>
<body>
    <h1>Gráfico de Rehabilitación de Vía PC-RE (Sombreado)</h1>
    <div id="plot"></div>

    <script>
        async function drawPlot() {
            // Añadir sombreado gris claro a la mitad derecha de cada año (Vía 2)
            const shadedAreas = Array.from({ length: 70 }, (_, i) => 1998 + i).map(year => ({
                type: 'rect',
                x0: year + 0.5,  // Mitad derecha de cada año
                x1: year + 1,
                y0: 0,
                y1: 6,
                fillcolor: 'rgba(220, 220, 220, 0.2)', // Gris muy claro con transparencia
                line: {
                    width: 0
                },
                layer: 'below'
            }));

            // Configuración de la gráfica
            const layout = {
                title: 'Sombreado en la Mitad Derecha de Cada Año (Vía 2)',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 18,
                    color: 'black'
                },
                xaxis: {
                    title: 'Años',
                    titlefont: {
                        size: 20,
                        color: 'black',
                        family: 'Arial, sans-serif',
                        weight: 'bold'
                    },
                    tickangle: -45,
                    range: [1998, 2069], // Ajustar rango para incluir etiquetas
                    tickvals: Array.from({ length: 72 }, (_, i) => 1998 + i),
                    dtick: 5
                },
                yaxis: {
                    title: 'PK',
                    titlefont: {
                        size: 20,
                        color: 'black',
                        family: 'Arial, sans-serif',
                        weight: 'bold'
                    },
                    tickvals: [0, 1, 2, 3, 4, 5],
                    ticktext: ["0+000", "1+000", "2+000", "3+000", "4+000", "5+000"],
                    range: [6, 0]
                },
                shapes: shadedAreas,
                margin: {
                    l: 120,
                    r: 180,
                    t: 80,
                    b: 150
                },
                showlegend: false
            };

            // Dibujar la gráfica
            Plotly.newPlot('plot', [], layout);
        }

        // Dibujar la gráfica al cargar la página
        drawPlot();
    </script>
</body>
</html>
